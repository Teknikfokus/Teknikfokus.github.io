(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["events"],{"06d1":function(t,e,n){},"0e29":function(t,e,n){"use strict";n("ee4d")},"0ee9":function(t,e,n){"use strict";n("ab55")},1188:function(t,e,n){"use strict";n("7656")},"159b":function(t,e,n){var i=n("da84"),a=n("fdbc"),s=n("17c2"),o=n("9112");for(var r in a){var c=i[r],d=c&&c.prototype;if(d&&d.forEach!==s)try{o(d,"forEach",s)}catch(u){d.forEach=s}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,a=n("a640"),s=n("ae40"),o=a("forEach"),r=s("forEach");t.exports=o&&r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},2152:function(t,e,n){"use strict";n("834e")},"31cd":function(t,e,n){"use strict";n("e543")},3388:function(t,e,n){"use strict";n("3c97")},"3c97":function(t,e,n){},4160:function(t,e,n){"use strict";var i=n("23e7"),a=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),a=n("5899"),s="["+a+"]",o=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(r,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var i=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var s,o;return a&&"function"==typeof(s=e.constructor)&&s!==n&&i(o=s.prototype)&&o!==n.prototype&&a(t,o),t}},7656:function(t,e,n){},"834e":function(t,e,n){},"8e27":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"errorMsg"}},[t.text?n("div",{staticClass:"msg",domProps:{innerHTML:t._s(t.text)}}):t._e(),t.code?n("div",{staticClass:"code"},[t._v("(Error code: "+t._s(t.code)+")")]):t._e()])},a=[],s={name:"ErrorMessage",props:{text:void 0,code:void 0}},o=s,r=n("2877"),c=Object(r["a"])(o,i,a,!1,null,"da7ff8ec",null);e["a"]=c.exports},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),s=n("fc6a"),o=n("a640"),r=[].join,c=a!=Object,d=o("join",",");i({target:"Array",proto:!0,forced:c||!d},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,n){"use strict";var i=n("83ab"),a=n("da84"),s=n("94ca"),o=n("6eeb"),r=n("5135"),c=n("c6b6"),d=n("7156"),u=n("c04e"),l=n("d039"),f=n("7c73"),v=n("241c").f,h=n("06cf").f,m=n("9bf2").f,p=n("58a8").trim,b="Number",g=a[b],_=g.prototype,y=c(f(_))==b,E=function(t){var e,n,i,a,s,o,r,c,d=u(t,!1);if("string"==typeof d&&d.length>2)if(d=p(d),e=d.charCodeAt(0),43===e||45===e){if(n=d.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+d}for(s=d.slice(2),o=s.length,r=0;r<o;r++)if(c=s.charCodeAt(r),c<48||c>a)return NaN;return parseInt(s,i)}return+d};if(s(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(y?l((function(){_.valueOf.call(n)})):c(n)!=b)?d(new g(E(e)),n,w):E(e)},T=i?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;T.length>C;C++)r(g,S=T[C])&&!r(w,S)&&m(w,S,h(g,S));w.prototype=_,_.constructor=w,o(a,b,w)}},aa9c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"events"}},[n("div",{staticClass:"container pt-5 pb-5"},[void 0!==t.todaysEvents&&t.todaysEvents.length>0?n("div",{staticClass:"todays-event"},[n("span",{staticClass:"header"},[t._v("Today's events")]),t._l(t.todaysEvents,(function(t){return n("Event",{key:t.title,attrs:{info:t}})})),n("span",{staticClass:"header"},[t._v("All events")])],2):t._e(),n("Calendar",{staticClass:"d-none d-lg-block",class:{show:!t.isLoading&&!t.isError},attrs:{events:t.formattedEvents},on:{select:t.handleSelect}}),n("EventList",{staticClass:"d-block d-lg-none",class:{show:!t.isLoading&&!t.isError},attrs:{events:t.formattedEvents}}),t.isLoading?n("Loader"):t._e(),t.isError&&!t.isLoading?n("ErrorMessage",{attrs:{text:"Unable to load events, try again in a moment.<br>If the error persists, feel free to contact us."}}):t._e(),n("EventModal",{class:{show:t.showModal},style:{top:t.scrollTop+"px"},attrs:{info:t.selectedEvent},on:{close:t.handleClose,register:t.handleRegister,withdraw:t.handleWithdraw}}),n("div",{staticClass:"dark-backdrop",class:{show:t.showModal},on:{click:t.handleClose}})],1)])},a=[],s=(n("a4d3"),n("e01a"),n("4de4"),n("caad"),n("07ac"),n("2532"),n("1c7f")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"calendar"}},[n("div",{staticClass:"headers"},[t._l(t.weekdays.slice(0,5),(function(e){return n("div",{key:e,staticClass:"weekday d-none d-md-block"},[t._v(" "+t._s(e)+" ")])})),t._l(t.abbreviatedWeekdays.slice(0,5),(function(e){return n("div",{key:e,staticClass:"weekday d-block d-md-none"},[t._v(" "+t._s(e)+" ")])}))],2),n("div",{staticClass:"calendar"},t._l(t.weeks,(function(e){return n("div",{key:e.weekIndex,staticClass:"week"},t._l(e.days.slice(0,5),(function(e){return n("Day",{key:e.date.day+"/"+e.date.month,attrs:{info:e,today:e.date.day==t.today.day&&e.date.month==t.today.month},on:{select:t.handleSelect}})})),1)})),0)])},r=[];n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{today:t.today},attrs:{id:"day"}},[n("div",{staticClass:"date"},[t._v(t._s(t.dateString))]),n("div",{staticClass:"events",class:{end:1==t.info.events.length&&t.info.events[0].time.start.hour>15}},t._l(t.info.events.entries(),(function(e){var i=e[0],a=e[1];return n("Event",{key:t.dateString+i,attrs:{info:a},on:{select:function(e){return t.$emit("select",a)}}})})),1)])},f=[],v=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"root",attrs:{id:"event"},on:{click:function(e){return t.$emit("select")}}},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.info.title)+" ")]),n("div",{staticClass:"time"},[t._v(" "+t._s(t.startTime)+"-"+t._s(t.endTime)+" ")]),t.info.signedUp||"-"==t.availableSpots?t._e():n("div",{staticClass:"spots d-none d-md-block"},[n("span",{class:{"few-left":t.availableSpots/t.maxSpots<.2&&t.availableSpots>0}},[t._v(t._s(t.availableSpots))]),t._v("/"+t._s(t.maxSpots)+" ")]),t.info.signedUp?n("div",{staticClass:"going d-none d-md-block"},[t._v("Going ")]):t._e()])}),h=[],m={title:String,description:String,date:{day:Number,month:Number},time:{start:{hour:Number,minute:Number},end:{hour:Number,minute:Number}},spots:{available:Number,max:Number},signedUp:Boolean,banner:String},p={name:"Event",props:{info:m},methods:{timeString:function(t,e){var n=function(t){return(t.length<2?"0":"")+t};return n(t+"")+":"+n(e+"")}},computed:{startTime:function(){var t=this.info.time.start;return this.timeString(t.hour,t.minute)},endTime:function(){var t=this.info.time.end;return this.timeString(t.hour,t.minute)},availableSpots:function(){var t=this.info.spots;return t.available<0?"-":t.available},maxSpots:function(){var t=this.info.spots;return t.max<0?"-":t.max}}},b=p,g=(n("0ee9"),n("2877")),_=Object(g["a"])(b,v,h,!1,null,"39b68b81",null),y=_.exports,E={name:"Day",components:{Event:y},props:{info:{date:{day:Number,month:Number},events:Array},today:{type:Boolean,default:!1}},computed:{dateString:function(){return this.info.date.day+"/"+this.info.date.month+" - "+this.info.date.year}}},S=E,w=(n("1188"),Object(g["a"])(S,l,f,!1,null,"2c4860d4",null)),T=w.exports,C={name:"Calendar",props:{events:Array},components:{Day:T},data:function(){return{weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],abbreviatedWeekdays:["Mon","Tue","Wen","Thu","Fri","Sat","Sun"],daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],fairDate:{day:17,month:2},defaultStartingDate:new Date(2021,1,1)}},methods:{handleSelect:function(t){this.$emit("select",t)}},computed:{weeks:function(){var t=this,e=[],n=864e5,i=new Date(this.defaultStartingDate.getTime()-(this.defaultStartingDate.getDay()-1)*n),a=3;if(this.events.length>0){var s=new Date(this.events[0].startTime);i=new Date(s.getTime()-(s.getDay()-1)*n);var o=new Date(this.events[this.events.length-1].endTime),r=new Date(o.getTime()+(7-o.getDay()+1)*n);a=Math.round((r.getTime()-i.getTime())/(7*n))}for(var c={day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()},d=function(){c.day++,c.day>t.daysInMonth[c.month-1]&&(c.day=1,c.month=(c.month+1)%12,0===c.month&&c.year++)},l=0;l<a;l++){for(var f={days:[],index:l},v=0;v<this.weekdays.length;v++){var h=this.events.filter((function(t){return t.date.day==c.day&&t.date.month==c.month}));h.sort((function(t,e){return t.startTime-e.startTime})),f.days.push({events:h,date:u({},c)}),d()}e.push(f)}return e},today:function(){var t=new Date;return{day:t.getDate(),month:t.getMonth()+1}}}},j=C,k=(n("f52b"),Object(g["a"])(j,o,r,!1,null,"21096f95",null)),x=k.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"event-list"}},[t._l(t.futureEvents,(function(e){return n("div",{key:e.title+e.startTime,staticClass:"event"},[void 0!==e?n("Event",{attrs:{info:e}}):t._e()],1)})),t.pastEvents.length>0?n("h2",[t._v("Past Events")]):t._e(),t._l(t.pastEvents,(function(e){return n("div",{key:e.title+e.startTime,staticClass:"event"},[void 0!==e?n("Event",{attrs:{info:e}}):t._e()],1)}))],2)},D=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-details",attrs:{id:"event"}},[t.bannerExists?n("div",{staticClass:"banner",style:{"background-image":"url("+(t.endpoint+t.info.banner._jv.links.image)+")"}}):t._e(),n("div",{staticClass:"title"},[t._v(t._s(t.info.title))]),t.info.host&&""!==t.info.host.name?n("div",{staticClass:"host"},[t._v(" Hosted by "+t._s(t.info.host.name)+" "),t.logoExists?n("img",{staticClass:"host-logo",attrs:{src:t.logoExists?t.endpoint+t.info.host.logo._jv.links.image:"",alt:t.info.host.name+" logo"}}):t._e()]):t._e(),n("div",{staticClass:"time"},[t._v(t._s(t.dayString)+" "+t._s(t.date)+" "+t._s(t.startTime)+"-"+t._s(t.endTime)+" ")]),n("div",{staticClass:"description"},[t._v(t._s(t.info.description))]),n("div",{staticClass:"body",domProps:{innerHTML:t._s(t.sanitizedBody)}}),t.info.signedUp||"-"==t.availableSpots?t._e():n("div",{staticClass:"spots"},[n("span",{class:{"few-left":t.availableSpots/t.maxSpots<.2&&t.availableSpots>0}},[t._v(t._s(t.availableSpots))]),t._v("/"+t._s(t.maxSpots)+" ")]),n("div",{staticClass:"buttons"})])},N=[],I=(n("99af"),n("a15b"),n("d81d"),n("2909")),L=n("07a4"),A={name:"EventList",props:{info:Object},data:function(){return{endpoint:L["b"]}},computed:{startTime:function(){var t=this.info.time.start;return this.timeString(t.hour,t.minute)},endTime:function(){var t=this.info.time.end;return this.timeString(t.hour,t.minute)},date:function(){var t=function(t){return((t+"").length<2?"0":"")+t};return"".concat(t(this.info.date.day),"/").concat(t(this.info.date.month))},availableSpots:function(){var t=this.info.spots;return t.available<0?"-":t.available},maxSpots:function(){var t=this.info.spots;return t.max<0?"-":t.max},sanitizedBody:function(){return Object(I["a"])(this.info.body).map((function(t){return"\n"===t?"<br>":t})).join("")},logoExists:function(){return this.info.host.logo&&this.info.host.logo._jv&&this.info.host.logo._jv.links&&this.info.host.logo._jv.links.image},bannerExists:function(){return this.info.banner&&this.info.banner._jv&&this.info.banner._jv.links&&this.info.banner._jv.links.image},dayString:function(){if(void 0===this.info.startTime)return"";var t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return t[(new Date(this.info.startTime).getDay()+6)%7]}},methods:{timeString:function(t,e){var n=function(t){return((t+"").length<2?"0":"")+t};return"".concat(n(t),":").concat(n(e))}}},P=A,$=(n("31cd"),Object(g["a"])(P,M,N,!1,null,"502af0fc",null)),F=$.exports,U={name:"EventList",components:{Event:F},props:{events:Array},computed:{nonTodayEvents:function(){var t=new Date;return this.events.filter((function(e){return e.date.day!=t.getDate()||e.date.month!=t.getMonth()+1}))},futureEvents:function(){return this.nonTodayEvents.filter((function(t){return t.endTime>=(new Date).getTime()}))},pastEvents:function(){return this.nonTodayEvents.filter((function(t){return t.endTime<(new Date).getTime()}))}}},W=U,H=(n("0e29"),Object(g["a"])(W,O,D,!1,null,"b0bcf4aa",null)),B=H.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-details",attrs:{id:"event-modal"}},[void 0!==t.info?n("div",{staticClass:"content-wrapper"},[t.bannerExists?n("div",{staticClass:"banner",style:{"background-image":"url("+(t.endpoint+t.info.banner._jv.links.image)+")"}}):t._e(),n("div",{staticClass:"title"},[t._v(t._s(t.info.title))]),t.info.host&&""!==t.info.host.name?n("div",{staticClass:"host"},[t._v(" Hosted by "+t._s(t.info.host.name)+" "),t.logoExists?n("img",{staticClass:"host-logo",attrs:{src:t.logoExists?t.endpoint+t.info.host.logo._jv.links.image:"",alt:t.info.host.name+" logo"}}):t._e()]):t._e(),n("div",{staticClass:"time"},[t._v(t._s(t.dayString)+" "+t._s(t.date)+" "+t._s(t.startTime)+"-"+t._s(t.endTime)+" ")]),n("div",{staticClass:"description"},[t._v(t._s(t.info.description))]),n("div",{staticClass:"body",domProps:{innerHTML:t._s(t.sanitizedBody)}}),t.info.signedUp||"-"==t.availableSpots?t._e():n("div",{staticClass:"spots"},[n("span",{class:{"few-left":t.availableSpots/t.maxSpots<.2&&t.availableSpots>0}},[t._v(t._s(t.availableSpots))]),t._v("/"+t._s(t.maxSpots)+" ")]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])]):t._e()])},z=[],G={name:"EventModal",props:{info:m},data:function(){return{endpoint:L["b"]}},methods:{timeString:function(t,e){var n=function(t){return((t+"").length<2?"0":"")+t};return"".concat(n(t),":").concat(n(e))}},computed:{startTime:function(){var t=this.info.time.start;return this.timeString(t.hour,t.minute)},endTime:function(){var t=this.info.time.end;return this.timeString(t.hour,t.minute)},date:function(){var t=function(t){return((t+"").length<2?"0":"")+t};return"".concat(t(this.info.date.day),"/").concat(t(this.info.date.month))},availableSpots:function(){var t=this.info.spots;return t.available<0?"-":t.available},maxSpots:function(){var t=this.info.spots;return t.max<0?"-":t.max},sanitizedBody:function(){return Object(I["a"])(this.info.body).map((function(t){return"\n"===t?"<br>":t})).join("")},logoExists:function(){return this.info.host.logo&&this.info.host.logo._jv&&this.info.host.logo._jv.links&&this.info.host.logo._jv.links.image},bannerExists:function(){return this.info.banner&&this.info.banner._jv&&this.info.banner._jv.links&&this.info.banner._jv.links.image},dayString:function(){if(void 0===this.info.startTime)return"";var t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return t[(new Date(this.info.startTime).getDay()+6)%7]}}},V=G,Y=(n("2152"),Object(g["a"])(V,R,z,!1,null,null,null)),J=Y.exports,X=n("555f"),q=n("8e27"),K={name:"Events",components:{Calendar:x,EventList:B,EventModal:J,Loader:X["a"],ErrorMessage:q["a"],Event:F},data:function(){return{scrollTop:0,isLoading:!0,isError:!1,selectedEvent:void 0,showModal:!1}},created:function(){this.reloadEvents()},methods:{formatEvent:function(t){var e=new Date(1e3*t.start_time),n=new Date(1e3*t.end_time);return{title:t.title||"",description:t.description||"",body:t.body||"",spots:{available:-1,max:t.max_attendess||-1},signedUp:!1,bookable:t.bookable,banner:t.banner,startTime:e.getTime(),endTime:n.getTime(),date:{day:e.getDate(),month:e.getMonth()+1},time:{start:{hour:e.getHours(),minute:e.getMinutes()},end:{hour:n.getHours(),minute:n.getMinutes()}},host:t.company}},reloadEvents:function(){var t=this;this.isLoading=!0;var e=function(){var e=Object.values(s["b"].status);t.isLoading=e.includes(0),t.isError=-1===e[e.length-1]};s["b"].run((function(){return t.$store.dispatch("jv/get","events")})).then(e).catch(e)},handleSelect:function(t){this.selectedEvent=t,this.showModal=!0,this.scrollTop=window.scrollY+150},handleClose:function(){this.showModal=!1},handleRegister:function(){},handleWithdraw:function(){}},computed:{events:function(){return this.$store.getters["jv/get"]("events")},formattedEvents:function(){for(var t=[],e=0,n=Object.values(this.events);e<n.length;e++){var i=n[e],a=this.formatEvent(i);t.push(a)}return t.sort((function(t,e){return t.startTime-e.startTime}))},todaysEvents:function(){var t=new Date;return this.formattedEvents.filter((function(e){return e.date.day==t.getDate()&&e.date.month==t.getMonth()+1}))}}},Q=K,Z=(n("3388"),Object(g["a"])(Q,i,a,!1,null,"30fb1b63",null));e["default"]=Z.exports},ab55:function(t,e,n){},b64b:function(t,e,n){var i=n("23e7"),a=n("7b0b"),s=n("df75"),o=n("d039"),r=o((function(){s(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return s(a(t))}})},dbb4:function(t,e,n){var i=n("23e7"),a=n("83ab"),s=n("56ef"),o=n("fc6a"),r=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),a=r.f,d=s(i),u={},l=0;while(d.length>l)n=a(i,e=d[l++]),void 0!==n&&c(u,e,n);return u}})},e439:function(t,e,n){var i=n("23e7"),a=n("d039"),s=n("fc6a"),o=n("06cf").f,r=n("83ab"),c=a((function(){o(1)})),d=!r||c;i({target:"Object",stat:!0,forced:d,sham:!r},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},e543:function(t,e,n){},ee4d:function(t,e,n){},f52b:function(t,e,n){"use strict";n("06d1")}}]);
//# sourceMappingURL=events.c592236e.js.map